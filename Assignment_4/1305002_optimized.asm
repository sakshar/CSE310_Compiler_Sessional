TITLE: CODE GENERATION
.MODEL SMALL
.STACK 100H
.DATA
	CR EQU 0DH
	LF EQU 0AH
t0 DW ?
t1 DW ?
a DW ?, ?
c DW ?
i DW ?
j DW ?
d DW ?
.CODE
MAIN PROC
MOV AX, @DATA
MOV DS, AX
MOV AX, 5
NEG AX
MOV t0, AX
MOV c, AX
L2:
MOV AX, c
CMP AX, 1
JLE L0
MOV t1, 0
JMP L1
L0:
MOV t1, 1
L1:
MOV AX, t1
CMP AX, 0
JLE L3
INC c
JMP L2
L3:
MOV AX, c
CALL OUTDEC
MOV AH, 4CH
INT 21H
MAIN ENDP

OUTDEC PROC
PUSH AX
PUSH BX
PUSH CX
PUSH DX
OR AX,AX
JGE @END_IF1
PUSH AX
MOV DL,'-'
MOV AH,2
INT 21H
POP AX
NEG AX

 @END_IF1:
XOR CX,CX
MOV BX,10D
@REPEAT1:
XOR DX,DX
DIV BX
PUSH DX
INC CX
OR AX,AX
JNE @REPEAT1

MOV AH,2
@PRINT_LOOP:

POP DX
OR DL,30H
INT 21H
LOOP @PRINT_LOOP

MOV DX, CR
INT 21H
MOV DX, LF
INT 21H
POP DX
POP CX
POP BX
POP AX
RET
OUTDEC ENDP

	END MAIN

